<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- 指定字符编码为 UTF-8，确保页面能正确显示中文字符 -->
    <meta charset="UTF-8">
    <!-- 设置视口，让页面在不同设备上保持良好比例 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>绘心工作室官网</title>
    <!-- 引入外部样式文件 -->
    <link rel="stylesheet" href="styles.css">
    <!-- 引入 Google 字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 导航栏先隐藏，恢复时注意加回注释的符号
     导航栏
    <nav id="main-nav">
        <ul>
             使用 data 属性来支持多语言显示 
            <li><a href="index.html" data-zh="首页" data-en="Home">首页</a></li>
            <li><a href="products.html" data-zh="产品信息" data-en="Products">产品信息</a></li>
            <li><a href="about.html" data-zh="了解我们" data-en="About Us">了解我们</a></li>
            <li><a href="join.html" data-zh="加入我们" data-en="Join Us">加入我们</a></li>
            <li><a href="updates.html" data-zh="更新日志" data-en="Updates">更新日志</a></li>
        </ul>
    </nav>
    -->

    <!-- 标题部分 -->
    <header>
    </header>

    <!-- 主内容部分，包括轮播图和缩略图 -->
    <main id="section2">
        <div class="carousel">
            <!-- 轮播图项目，使用图片展示内容 -->
            <div class="carousel-item active">
                <img src="images/game1.png" alt="光之匣：雾岛旅人" class="carousel-image">
                <div class="carousel-text">
                    <h3 data-zh="光之匣：雾岛旅人" data-en="Honkai Impact 3rd">光之匣：雾岛旅人</h3>
                    <p data-zh="2D文字解谜冒险。" data-en="Experience 3D action adventure and thrilling battles.">2D文字解谜冒险。</p>
                    <!--了解更多暂时没有跳转，先藏起来 <a href="#" data-zh="了解更多" data-en="Learn More">了解更多</a> -->
                    <!-- 添加下载按钮 -->
                    <a href="https://l.taptap.cn/er5w5iK7?channel=rep-rep_eoegklv95p6" class="download-button" target="_blank">Taptap 下载</a>
                </div>
            </div>
            <!-- 其他轮播图项目 -->
            <div class="carousel-item">
                <img src="images/game2.png" alt="代号：番茄钟" class="carousel-image">
                <div class="carousel-text">
                    <h3 data-zh="代号：番茄钟" data-en="Genshin Impact">代号：番茄钟</h3>
                    <p data-zh="陪伴式番茄钟。" data-en="Step into a vast open world and embark on adventures with friends.">陪伴式番茄钟。</p>
                    <a href="#" data-zh="了解更多" data-en="Learn More">了解更多</a>
                </div>
            </div>
            <!--
            <div class="carousel-item">
                <img src="images/game3.png" alt="未定事件簿" class="carousel-image">
                <div class="carousel-text">
                    <h3 data-zh="未定事件簿" data-en="Tears of Themis">未定事件簿</h3>
                    <p data-zh="解开神秘事件，发现背后的真相。" data-en="Uncover mysterious events and discover the truth behind them.">解开神秘事件，发现背后的真相。</p>
                    <a href="#" data-zh="了解更多" data-en="Learn More">了解更多</a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/game4.png" alt="星穹铁道" class="carousel-image">
                <div class="carousel-text">
                    <h3 data-zh="星穹铁道" data-en="Honkai: Star Rail">星穹铁道</h3>
                    <p data-zh="在奇幻的星际世界中探索未知，解开宇宙的秘密。" data-en="Explore the unknown in a fantasy interstellar world and uncover the secrets of the universe.">在奇幻的星际世界中探索未知，解开宇宙的秘密。</p>
                    <a href="#" data-zh="了解更多" data-en="Learn More">了解更多</a>
                </div>
            </div>
        </div>
        -->

        <!-- 轮播图缩略图 -->
        <div class="carousel-thumbnails">
            <img src="images/icon_product1.png" alt="光之匣：雾岛旅人缩略图" class="thumbnail active" data-index="0">
            <img src="images/icon_product2.png" alt="代号：番茄钟缩略图" class="thumbnail" data-index="1">
            <!--
            <img src="images/game3icon.png" alt="未定事件簿缩略图" class="thumbnail" data-index="2">
            <img src="images/game4icon.png" alt="星穹铁道缩略图" class="thumbnail" data-index="3">
            -->
        </div>
    </main>

    <!-- 页脚 -->
    <footer>
        <p data-zh=" &copy; 2024 绘心工作室" data-en="All Rights Reserved &copy; 2024 MiHoYo Style Website Sample"> &copy; 2024 heart craft studio</p>
    </footer>

    <!-- JavaScript 用于控制轮播图切换 -->
    <script>
        'use strict';

        // 获取所有轮播项目和缩略图
        const items = document.querySelectorAll('.carousel-item');
        const thumbnails = document.querySelectorAll('.thumbnail');
        
        // 当前显示的轮播图索引
        let carouselIndex = 0; 
        // 自动轮播定时器
        let carouselInterval;

        // 切换轮播图到指定索引
        function setCarouselItem(index) {
            if (index === carouselIndex) return;  // 如果已经是当前索引，直接返回

            // 处理即将离开的项目和即将进入的项目
            const exitingItem = items[carouselIndex];
            const enteringItem = items[index];

            // 更新当前项目样式
            exitingItem.classList.remove('active');
            exitingItem.classList.add('carousel-item-exit');

            enteringItem.classList.add('active');
            enteringItem.classList.remove('carousel-item-exit');

            // 更新缩略图样式
            thumbnails[carouselIndex].classList.remove('active');
            thumbnails[index].classList.add('active');

            // 更新当前索引
            carouselIndex = index;

            // 重置自动轮播
            resetCarouselInterval();
        }

        // 自动切换到下一张轮播图
        function autoSwitchCarousel() {
            let nextIndex = (carouselIndex + 1) % items.length;
            setCarouselItem(nextIndex);
        }

        // 重置自动轮播的时间间隔
        function resetCarouselInterval() {
            clearInterval(carouselInterval);  // 清除旧定时器
            carouselInterval = setInterval(autoSwitchCarousel, 5000);  // 设置新定时器
        }

        // 为每个缩略图添加点击事件监听器
        thumbnails.forEach((thumbnail) => {
            thumbnail.addEventListener('click', () => {
                const index = parseInt(thumbnail.getAttribute('data-index'));
                setCarouselItem(index);
            });
        });

        // 启动自动轮播
        carouselInterval = setInterval(autoSwitchCarousel, 5000);

        // 当页面可见性发生变化时暂停或恢复轮播
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                clearInterval(carouselInterval);  // 页面隐藏时停止轮播
            } else {
                resetCarouselInterval();  // 页面显示时重启轮播
            }
        });
    </script>
</body>
</html>
